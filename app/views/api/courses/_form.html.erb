
<%= form_with(model: [@subject, course], local: true) do |form| %>
  <div class="modal-body">
    <div class="form-group">
      <!-- Chuyên ngành -->
      <b>Chuyên ngành:</b>
      <% if @action == 'new' %>
        <%= @subject.category.name %>
      <% end %>
      <% if @action == 'new_course' %>
        <%= select_tag "category_id", options_from_collection_for_select(Category.all, :id, :name), 
          :prompt => '-----Chọn chuyên ngành-----', 
          :class => 'form-control', :onChange => "getSubjectByCateId(this.options[this.selectedIndex].value)" %>
      <% end %>
      <script>
        getSubjectById();
      </script>
      <% if @action == 'edit' %>
        <div id="category_select_div">
        </div>    
      <% end %>
    </div>
    <div class="form-group">
      <!-- Môn học -->
      <b>Môn học:</b>
      <% if @action == 'new' %>
        <%= @subject.name %>
      <% end %>
      <% if @action == 'new_course' %>
        <div id="subject_select">
          <%= form.select "subject_id", '<option></option>', 
          {prompt: '-----Chọn môn học-----'}, {class: 'form-control'} %>
        </div>
      <% end %>
      <% if @action == 'edit' %>
        <div id="subject_select">
          <%= form.select "subject_id", options_from_collection_for_select(Subject.all, :id, :name, "#{@course.subject_id}"), {}, {class: 'form-control'} %>
        </div>
      <% end %>
    </div>
    <div class="form-group">
      <b>Tên chủ đề</b>
      <%= form.text_field :name, class: 'form-control' %>
    </div>
    <div class="form-group">
      <b>Loại câu hỏi</b><br/>
      <div class='row'>
        <div class='col-xs-6'>
          <%= form.radio_button(:type_course, "true", checked: true) %>
          Multichoice
        </div>
        <div class='col-xs-6'>
          <%= form.radio_button(:type_course, "false") %>
          True/False <br/>
        </div>
      </div>
    </div>
    <div class="form-group">
      <b>Icon</b>
      <%= form.file_field :icon %>
    </div>
    <div class="form-group">
      <b>Mô tả</b>
      <%= form.text_area :description, class: 'form-control'  %>
    </div>
  </div>
  <div class="modal-footer actions">
    <% if @action == 'new' || @action == 'new_course' %>
      <button class="btn btn-default">Tạo mới</button>
    <% end %>
    <% if @action == 'edit' %>
      <button class="btn btn-default">Cập nhật</button>
    <% end %>
  </div>
<% end %>
